<ScrollView class="bg-light" height="100%">
  <FlexboxLayout class="gutters" flexDirection="column" paddingBottom="80">
    <Label
      text="SALDO"
      class="text-bold m-y-10"
      fontSize="16"
      textWrap="true"
    ></Label>

    <GridLayout
      columns="*,auto"
      verticalAlignment="middle"
      shadow="1"
      marginBottom="16"
      orientation="horizontal"
    >
      <Label
        text="Conta Corrente"
        fontSize="15"
        col="0"
        class="h4 text-uppercase text-complementary-dark gutters text-bold"
        textWrap="true"
      ></Label>
      <Label
        [text]="accountBalance$ | async | currency: 'BRL':'symbol'"
        fontSize="15"
        col="1"
        class="h4 text-uppercase text-complementary-dark gutters text-bold"
        textWrap="true"
      ></Label>
    </GridLayout>

    <Label
      text="EXTRATO"
      class="text-bold m-y-10"
      fontSize="16"
      textWrap="true"
    ></Label>

    <StackLayout
      *ngFor="let item of (transactions$ | async)"
      marginBottom="16"
      shadow="1"
    >
      <GridLayout
        rows="*,*,*"
        columns="auto,*,auto"
        (tap)="onItemTap($event, item)"
        class="card-list"
      >
        <StackLayout
          col="0"
          row="0"
          rowSpan="3"
          class="thumbnail sm"
          marginRight="16"
        >
        </StackLayout>

        <Label
          [nsTransactionType]
          [text]="getTransactionType(item.type)"
          col="1"
          row="0"
          [class]="'card-title text-bold text-complementary-dark'"
          textWrap="true"
        ></Label>
        <Label
          [text]="item.date | date: 'dd/MM/yyyy HH:mm'"
          class="card-subtitle"
          col="1"
          row="1"
          marginTop="4"
          textWrap="true"
        ></Label>

        <Label
          verticalAlignment="middle"
          [class]="getTypeCssClass(item)"
          [text]="
            item.status === 'Cancelled'
              ? '+ ' + (item.amount | currency: 'BRL':'symbol')
              : item.type === 'Purchase'
              ? '-' + (item.amount | currency: 'BRL':'symbol')
              : (item.amount | currency: 'BRL':'symbol')
          "
          row="0"
          col="2"
          rowSpan="2"
          class="text-bold text-primary"
          textWrap="true"
        ></Label>

        <Label
          class="text-right card-subtitle"
          [text]="getPaymentType(item)"
          row="1"
          col="2"
          rowSpan="2"
          marginTop="8"
          textWrap="true"
        ></Label>
      </GridLayout>
    </StackLayout>

    <!--  <StackLayout class="hr-light"> </StackLayout>

    <Button text="ver todos" class="btn btn-link" horizontalAlignment="right"></Button> -->
  </FlexboxLayout>
</ScrollView>
